(self.webpackChunkmaplestory_calculators=self.webpackChunkmaplestory_calculators||[]).push([[179],{778:(e,t,n)=>{"use strict";var i=n(379),E=n.n(i),s=n(918);E()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;class T{constructor(e){this.strength=0,this.dexterity=0,this.intelligence=0,this.luck=0,this.defense=0,this.hp=0,this.mp=0,this.allStat=0,this.levelReduction=0,this.weight=1,this.statMultiplier=1+Math.floor(e/20),this.multiplier=1+Math.floor(e/40),this.advantagedRedFlameWeights=new Map,this.advantagedEternalFlameWeights=new Map,this.redFlameWeights=new Map,this.eternalFlameWeights=new Map,this.advantagedRedFlameWeights[3]=.2,this.advantagedRedFlameWeights[4]=.3,this.advantagedRedFlameWeights[5]=.36,this.advantagedRedFlameWeights[6]=.14,this.advantagedEternalFlameWeights[4]=.29,this.advantagedEternalFlameWeights[5]=.45,this.advantagedEternalFlameWeights[6]=.25,this.advantagedEternalFlameWeights[7]=.01,this.redFlameWeights[1]=.2,this.redFlameWeights[2]=.3,this.redFlameWeights[3]=.36,this.redFlameWeights[4]=.14,this.eternalFlameWeights[2]=.29,this.eternalFlameWeights[3]=.45,this.eternalFlameWeights[4]=.25,this.eternalFlameWeights[5]=.01}StrIncrease(e){this.strength+=e*this.statMultiplier}DexIncrease(e){this.dexterity+=e*this.statMultiplier}IntIncrease(e){this.intelligence+=e*this.statMultiplier}LukIncrease(e){this.luck+=e*this.statMultiplier}StrDexIncrease(e){this.strength+=e*this.multiplier,this.dexterity+=e*this.multiplier}StrIntIncrease(e){this.strength+=e*this.multiplier,this.intelligence+=e*this.multiplier}StrLukIncrease(e){this.strength+=e*this.multiplier,this.luck+=e*this.multiplier}DexIntIncrease(e){this.dexterity+=e*this.multiplier,this.intelligence+=e*this.multiplier}DexLukIncrease(e){this.dexterity+=e*this.multiplier,this.luck+=e*this.multiplier}IntLukIncrease(e){this.intelligence+=e*this.multiplier,this.luck+=e*this.multiplier}DefenseIncrease(e){this.defense+=e*this.statMultiplier}HPIncrease(e){this.hp+=e}MPIncrease(e){this.mp+=e}AllStatIncrease(e){this.allStat+=e}LevelReduction(e){this.levelReduction+=5*e}}class a extends T{constructor(e){super(e),this.attack=0,this.magAttack=0,this.speed=0,this.jump=0}Flame(e,t,n,i){1==e?this.StrIncrease(t):2==e?this.DexIncrease(t):3==e?this.IntIncrease(t):4==e?this.LukIncrease(t):5==e?this.StrDexIncrease(t):6==e?this.StrIntIncrease(t):7==e?this.StrLukIncrease(t):8==e?this.DexIntIncrease(t):9==e?this.DexLukIncrease(t):10==e?this.IntLukIncrease(t):11==e?this.AttackIncrease(t):12==e?this.MagAttackIncrease(t):13==e?this.DefenseIncrease(t):14==e?this.HPIncrease(t):15==e?this.MPIncrease(t):16==e?this.AllStatIncrease(t):17==e?this.SpeedIncrease(t):18==e?this.JumpIncrease(t):this.LevelReduction(t),this.weight*=n&&i?this.advantagedEternalFlameWeights[t]:n&&!i?this.eternalFlameWeights[t]:!n&&i?this.advantagedRedFlameWeights[t]:this.redFlameWeights[t]}AttackIncrease(e){this.attack+=e}MagAttackIncrease(e){this.magAttack+=e}SpeedIncrease(e){this.speed+=e}JumpIncrease(e){this.jump+=e}}class R extends T{constructor(e,t){super(t),this.attackPower=e,this.attack=0,this.magAttack=0,this.bossDmg=0,this.dmg=0,this.attackPowerPercentages=new Map,this.attackPowerPercentages[3]=.03,this.attackPowerPercentages[4]=.044,this.attackPowerPercentages[5]=.0605,this.attackPowerPercentages[6]=.07986,this.attackPowerPercentages[7]=.102487}Flame(e,t,n,i){1==e?this.StrIncrease(t):2==e?this.DexIncrease(t):3==e?this.IntIncrease(t):4==e?this.LukIncrease(t):5==e?this.StrDexIncrease(t):6==e?this.StrIntIncrease(t):7==e?this.StrLukIncrease(t):8==e?this.DexIntIncrease(t):9==e?this.DexLukIncrease(t):10==e?this.IntLukIncrease(t):11==e?this.AttackIncrease(t):12==e?this.MagAttackIncrease(t):13==e?this.DefenseIncrease(t):14==e?this.HPIncrease(t):15==e?this.MPIncrease(t):16==e?this.AllStatIncrease(t):17==e?this.BossDmgIncrease(t):18==e?this.DmgIncrease(t):this.LevelReduction(t),this.weight*=n&&i?this.advantagedEternalFlameWeights[t]:n&&!i?this.eternalFlameWeights[t]:!n&&i?this.advantagedRedFlameWeights[t]:this.redFlameWeights[t]}AttackIncrease(e){this.attack+=Math.floor(this.attackPower*this.multiplier*this.attackPowerPercentages[e])+1}MagAttackIncrease(e){this.magAttack+=Math.floor(this.attackPower*this.multiplier*this.attackPowerPercentages[e])+1}BossDmgIncrease(e){this.bossDmg+=2*e}DmgIncrease(e){this.dmg+=e}}function r(e){return"checkbox"==document.getElementById(e).type?!(!localStorage.getItem(e)||'""'===localStorage.getItem(e))&&(document.getElementById(e).checked=JSON.parse(localStorage.getItem(e)),JSON.parse(localStorage.getItem(e))):"number"==document.getElementById(e).type?localStorage.getItem(e)&&'""'!==localStorage.getItem(e)?(document.getElementById(e).value=JSON.parse(localStorage.getItem(e)),JSON.parse(localStorage.getItem(e))):0:void 0}let l=r("isWeapon");document.getElementById("isWeapon").addEventListener("click",(function(){l=document.getElementById("isWeapon").checked,localStorage.setItem("isWeapon",JSON.stringify(l))}));let o=r("isFlameAdvantaged");document.getElementById("isFlameAdvantaged").addEventListener("click",(function(){o=document.getElementById("isFlameAdvantaged").checked,localStorage.setItem("isFlameAdvantaged",JSON.stringify(o))}));let A=r("level");document.getElementById("level").addEventListener("input",(function(){A=document.getElementById("level").value,localStorage.setItem("level",JSON.stringify(A))}));let I=r("flameThreshold");document.getElementById("flameThreshold").addEventListener("input",(function(){I=document.getElementById("flameThreshold").value,localStorage.setItem("flameThreshold",JSON.stringify(I))}));let S=r("attackWeight");document.getElementById("attackWeight").addEventListener("input",(function(){S=document.getElementById("attackWeight").value,localStorage.setItem("attackWeight",JSON.stringify(S))}));let c=r("allStatWeight");document.getElementById("allStatWeight").addEventListener("input",(function(){c=document.getElementById("allStatWeight").value,localStorage.setItem("allStatWeight",JSON.stringify(c))}));let d=r("secondaryWeight");document.getElementById("secondaryWeight").addEventListener("input",(function(){d=document.getElementById("secondaryWeight").value,localStorage.setItem("secondaryWeight",JSON.stringify(d))}));let N=r("tertiaryWeight");document.getElementById("tertiaryWeight").addEventListener("input",(function(){N=document.getElementById("tertiaryWeight").value,localStorage.setItem("tertiaryWeight",JSON.stringify(N))}));let m=r("bossWeight");document.getElementById("bossWeight").addEventListener("input",(function(){m=document.getElementById("bossWeight").value,localStorage.setItem("bossWeight",JSON.stringify(m))}));let P=r("attackPower");function g(){h&&o?(u=4,p=7):!h&&o?(u=3,p=6):h&&!o?(u=2,p=5):(u=1,p=4)}document.getElementById("attackPower").addEventListener("input",(function(){P=document.getElementById("attackPower").value,localStorage.setItem("attackPower",JSON.stringify(P))}));let h,u=0,p=0;function L(){let e=0,t=0,n=0,i=[];return o?(i=C(),e+=i[0],t+=i[1],n+=i[2]):(i=C(),e+=.05*i[0],t+=.05*i[1],n+=.05*i[2],i=function(){let e=0,t=0,n=0;for(let i=1;i<=17;i++)for(let E=i+1;E<=18;E++)for(let s=E+1;s<=19;s++)for(let T=u;T<=p;T++)for(let r=u;r<=p;r++)for(let o=u;o<=p;o++)if(l){let a=new R(P,A);a.Flame(i,T,h),a.Flame(E,r,h),a.Flame(s,o,h);let l=w(a);l>=I&&(e+=a.weight,l>I&&(t+=a.weight,n+=a.weight*(l-I)))}else{let R=new a(A);R.Flame(i,T,h),R.Flame(E,r,h),R.Flame(s,o,h);let l=w(R);l>=I&&(e+=R.weight,l>I&&(t+=R.weight,n+=R.weight*(l-I)))}return[e/969,t/969,n/969]}(),e+=.15*i[0],t+=.15*i[1],n+=.15*i[2],i=function(){let e=0,t=0,n=0;for(let i=1;i<=18;i++)for(let E=i+1;E<=19;E++)for(let s=u;s<=p;s++)for(let T=u;T<=p;T++)if(l){let a=new R(P,A);a.Flame(i,s,h),a.Flame(E,T,h);let r=w(a);r>=I&&(e+=a.weight,r>I&&(t+=a.weight,n+=a.weight*(r-I)))}else{let R=new a(A);R.Flame(i,s,h),R.Flame(E,T,h);let r=w(R);r>=I&&(e+=R.weight,r>I&&(t+=R.weight,n+=R.weight*(r-I)))}return[e/171,t/171,n/171]}(),e+=.35*i[0],t+=.35*i[1],n+=.35*i[2],i=function(){let e=0,t=0,n=0;for(let i=1;i<=19;i++)for(let E=u;E<=p;E++)if(l){let s=new R(P,A);s.Flame(i,E,h);let T=w(s);T>=I&&(e+=s.weight,T>I&&(t+=s.weight,n+=s.weight*(T-I)))}else{let s=new a(A);s.Flame(i,E,h);let T=w(s);T>=I&&(e+=s.weight,T>I&&(t+=s.weight,n+=s.weight*(T-I)))}return[e/19,t/19,n/19]}(),e+=.45*i[0],t+=.45*i[1],n+=.45*i[2]),[e,t,n]}function C(){let e=0,t=0,n=0;for(let i=1;i<=16;i++)for(let E=i+1;E<=17;E++)for(let s=E+1;s<=18;s++)for(let T=s+1;T<=19;T++)for(let r=u;r<=p;r++)for(let S=u;S<=p;S++)for(let c=u;c<=p;c++)for(let d=u;d<=p;d++)if(l){let a=new R(P,A);a.Flame(i,r,h,o),a.Flame(E,S,h,o),a.Flame(s,c,h,o),a.Flame(T,d,h,o);let l=w(a);l>=I&&(e+=a.weight,l>I&&(t+=a.weight,n+=a.weight*(l-I)))}else{let R=new a(A);R.Flame(i,r,h,o),R.Flame(E,S,h,o),R.Flame(s,c,h,o),R.Flame(T,d,h,o);let l=w(R);l>=I&&(e+=R.weight,l>I&&(t+=R.weight,n+=R.weight*(l-I)))}return[e/3876,t/3876,n/3876]}function w(e){let t;return t=l?e.attack*S+e.allStat*c+e.bossDmg*m+e.dmg*m+e.strength+e.dexterity*d+e.luck*N:e.allStat*c+e.attack*S+e.strength+e.dexterity*d+e.luck*N,t}document.getElementById("calculateFlames").addEventListener("click",(function(){let e,t,n,i,E,s,T=[];h=!0,g(),T=L(),e=T[0],t=T[1],n=T[2],i=(1/e).toFixed(2)+" eternal flames to equal or beat current",E=(1/t).toFixed(2)+" eternal flames to beat current",s=(n/t).toFixed(2)+" expected flame score increase after beating current",document.getElementById("expectedEternalFlamesToEqual").innerHTML=i,document.getElementById("expectedEternalFlamesToBeat").innerHTML=E,document.getElementById("expectedEternalFlameGain").innerHTML=s,h=!1,g(),T=L(),e=T[0],t=T[1],n=T[2],i=(1/e).toFixed(2)+" red flames to equal or beat current",E=(1/t).toFixed(2)+" red flames to beat current",s=(n/t).toFixed(2)+" expected flame score increase after beating current",document.getElementById("expectedRedFlamesToEqual").innerHTML=i,document.getElementById("expectedRedFlamesToBeat").innerHTML=E,document.getElementById("expectedRedFlameGain").innerHTML=s}));class M{constructor(e,t,n){this.line=e,this.value=t,this.weight=n}}const O={ATTACKPERCENT:"att%",PRIMEBOSSDAMAGE:"primeboss%",HALFPRIMEBOSSDAMAGE:"halfprimeboss%",NONPRIMEBOSSDAMAGE:"nonprimeboss%",PRIMEIGNOREDEFENSE:"primeied%",NONPRIMEIGNOREDEFENSE:"nonprimeied%",CRITDMG:"critdmg",PRIMECOOLDOWNREDUCTION:"primecdr",NONPRIMECOOLDOWNREDUCTION:"nonprimecdr",DAMAGE:"dmg",CRITRATE:"critrate",ATTACKPER10:"att+10",ATTACK:"attack",ALLSTATPERCENT:"allstat%",PRIMARYSTATPERCENT:"primarystat%",SECONDARYSTATPERCENT:"secondarystat%",TERTIARYSTATPERCENT:"tertiarystat%",PRIMARYSTAT:"primarystat",SECONDARYSTAT:"secondarystat",TERTIARYSTAT:"tertiarystat",PRIMARYSTATPER10:"primarystat+10",SECONDARYSTATPER10:"secondarystat+10",TERTIARYSTATPER10:"tertiarystat+10",SHARPEYES:"dse",SPEEDINFUSION:"dsi",HP:"hp",MP:"mp",MESOS:"mesos",DROP:"drop",ALLSKILLLEVELS:"allskilllevels",INVINCIBILITY:"invincibility",PERCENTINVINCIBILITY:"percentinvincibility",IGNOREDAMAGE:"ignoredamage",FILLER:"filler"};function D(e){let t=new Map;return e.forEach((e=>{t.set(e.line,new M(e.line,e.value,e.weight))})),t}let y=new Map,b=new Map,Y=new Map,f=new Map,G=new Map,F=new Map,B=new Map,v=new Map;y.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,13,4)),y.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,13,4)),y.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,13,4)),y.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,13,2)),y.set(O.CRITRATE,new M(O.CRITRATE,13,2)),y.set(O.DAMAGE,new M(O.DAMAGE,13,2)),y.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,10,3)),y.set(O.ATTACKPER10,new M(O.ATTACKPER10,1,2)),y.set(O.NONPRIMEIGNOREDEFENSE,new M(O.NONPRIMEIGNOREDEFENSE,35,2)),y.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,40,2)),y.set(O.FILLER,new M(O.FILLER,0,8)),b.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,12,4)),b.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,12,4)),b.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,12,4)),b.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,12,2)),b.set(O.CRITRATE,new M(O.CRITRATE,12,2)),b.set(O.DAMAGE,new M(O.DAMAGE,12,2)),b.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,9,3)),b.set(O.ATTACKPER10,new M(O.ATTACKPER10,1,2)),b.set(O.NONPRIMEIGNOREDEFENSE,new M(O.NONPRIMEIGNOREDEFENSE,35,2)),b.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,40,2)),b.set(O.FILLER,new M(O.FILLER,0,8)),Y.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,10,5)),Y.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,10,5)),Y.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,10,5)),Y.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,10,3)),Y.set(O.CRITRATE,new M(O.CRITRATE,10,4)),Y.set(O.DAMAGE,new M(O.DAMAGE,10,3)),Y.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,7,4)),Y.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,30,3)),Y.set(O.FILLER,new M(O.FILLER,0,8)),f.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,9,5)),f.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,9,5)),f.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,9,5)),f.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,9,3)),f.set(O.CRITRATE,new M(O.CRITRATE,9,4)),f.set(O.DAMAGE,new M(O.DAMAGE,9,3)),f.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,6,4)),f.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,30,3)),f.set(O.FILLER,new M(O.FILLER,0,8)),G.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,13,3)),G.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,13,3)),G.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,13,3)),G.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,13,2)),G.set(O.CRITRATE,new M(O.CRITRATE,13,2)),G.set(O.DAMAGE,new M(O.DAMAGE,13,1)),G.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,10,2)),G.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,2,2)),G.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,2,2)),G.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,2,2)),G.set(O.ATTACKPER10,new M(O.ATTACKPER10,1,1)),G.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,5,1)),G.set(O.HP,new M(O.HP,10,3)),G.set(O.MP,new M(O.MP,10,3)),G.set(O.FILLER,new M(O.FILLER,0,9)),F.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,12,3)),F.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,12,3)),F.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,12,3)),F.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,12,2)),F.set(O.CRITRATE,new M(O.CRITRATE,12,2)),F.set(O.DAMAGE,new M(O.DAMAGE,12,1)),F.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,9,2)),F.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,2,2)),F.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,2,2)),F.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,2,2)),F.set(O.ATTACKPER10,new M(O.ATTACKPER10,1,1)),F.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,5,1)),F.set(O.HP,new M(O.HP,10,3)),F.set(O.MP,new M(O.MP,10,3)),F.set(O.FILLER,new M(O.FILLER,0,9)),B.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,10,3)),B.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,10,3)),B.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,10,3)),B.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,10,2)),B.set(O.CRITRATE,new M(O.CRITRATE,10,2)),B.set(O.DAMAGE,new M(O.DAMAGE,10,1)),B.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,1,2)),B.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,1,2)),B.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,1,2)),B.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,1,2)),B.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,4,1)),B.set(O.HP,new M(O.HP,7,3)),B.set(O.MP,new M(O.MP,7,3)),B.set(O.FILLER,new M(O.FILLER,0,13)),v.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,9,3)),v.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,9,3)),v.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,9,3)),v.set(O.ATTACKPERCENT,new M(O.ATTACKPERCENT,9,2)),v.set(O.CRITRATE,new M(O.CRITRATE,9,2)),v.set(O.DAMAGE,new M(O.DAMAGE,9,1)),v.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,1,2)),v.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,1,2)),v.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,1,2)),v.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,1,2)),v.set(O.PRIMEIGNOREDEFENSE,new M(O.PRIMEIGNOREDEFENSE,4,1)),v.set(O.HP,new M(O.HP,7,3)),v.set(O.MP,new M(O.MP,7,3)),v.set(O.FILLER,new M(O.FILLER,0,13));let k=D(y),x=D(b),U=D(Y),W=D(f),K=D(G),H=D(F),V=D(B),J=D(v);k.set(O.NONPRIMEBOSSDAMAGE,new M(O.NONPRIMEBOSSDAMAGE,30,2)),k.set(O.HALFPRIMEBOSSDAMAGE,new M(O.HALFPRIMEBOSSDAMAGE,35,2)),k.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,40,2)),x.set(O.NONPRIMEBOSSDAMAGE,new M(O.NONPRIMEBOSSDAMAGE,30,2)),x.set(O.HALFPRIMEBOSSDAMAGE,new M(O.HALFPRIMEBOSSDAMAGE,35,2)),x.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,40,2)),U.set(O.NONPRIMEBOSSDAMAGE,new M(O.NONPRIMEBOSSDAMAGE,20,3)),U.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,30,2)),W.set(O.NONPRIMEBOSSDAMAGE,new M(O.NONPRIMEBOSSDAMAGE,20,3)),W.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,30,2)),K.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,18,1)),H.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,18,1)),V.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,12,1)),J.set(O.PRIMEBOSSDAMAGE,new M(O.PRIMEBOSSDAMAGE,12,1));let q=D(k),j=D(x),z=D(U),Z=D(W),_=D(K),Q=D(H),X=D(V),$=D(J);q.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,6)),j.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,6)),z.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,8)),Z.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,8)),_.set(O.CRITDMG,new M(O.CRITDMG,1,2)),Q.set(O.CRITDMG,new M(O.CRITDMG,1,2));let ee=new Map,te=new Map,ne=new Map,ie=new Map,Ee=new Map,se=new Map,Te=new Map,ae=new Map;ee.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,13,4)),ee.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,13,4)),ee.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,13,4)),ee.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,10,3)),ee.set(O.HP,new M(O.HP,12,4)),ee.set(O.MP,new M(O.MP,12,4)),ee.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,6)),ee.set(O.FILLER,new M(O.FILLER,0,8)),te.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,12,4)),te.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,12,4)),te.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,12,4)),te.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,9,3)),te.set(O.HP,new M(O.HP,12,4)),te.set(O.MP,new M(O.MP,12,4)),te.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,6)),te.set(O.FILLER,new M(O.FILLER,0,8)),ne.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,10,5)),ne.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,10,5)),ne.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,10,5)),ne.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,7,4)),ne.set(O.HP,new M(O.HP,9,6)),ne.set(O.MP,new M(O.MP,9,6)),ne.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,8)),ne.set(O.FILLER,new M(O.FILLER,0,13)),ie.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,9,5)),ie.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,9,5)),ie.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,9,5)),ie.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,6,4)),ie.set(O.HP,new M(O.HP,9,6)),ie.set(O.MP,new M(O.MP,9,6)),ie.set(O.IGNOREDAMAGE,new M(O.IGNOREDAMAGE,0,8)),ie.set(O.FILLER,new M(O.FILLER,0,13)),Ee.set(O.PRIMARYSTAT,new M(O.PRIMARYSTAT,19,3)),Ee.set(O.SECONDARYSTAT,new M(O.SECONDARYSTAT,19,3)),Ee.set(O.TERTIARYSTAT,new M(O.TERTIARYSTAT,19,3)),Ee.set(O.ATTACK,new M(O.ATTACK,15,2)),Ee.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,8,2)),Ee.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,8,2)),Ee.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,8,2)),Ee.set(O.CRITDMG,new M(O.CRITDMG,1,2)),Ee.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,6,2)),Ee.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,2,2)),Ee.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,2,2)),Ee.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,2,2)),Ee.set(O.HP,new M(O.HP,10,3)),Ee.set(O.MP,new M(O.MP,10,3)),Ee.set(O.MESOS,new M(O.MESOS,5,3)),Ee.set(O.DROP,new M(O.DROP,5,3)),Ee.set(O.FILLER,new M(O.FILLER,0,25)),se.set(O.PRIMARYSTAT,new M(O.PRIMARYSTAT,18,3)),se.set(O.SECONDARYSTAT,new M(O.SECONDARYSTAT,18,3)),se.set(O.TERTIARYSTAT,new M(O.TERTIARYSTAT,18,3)),se.set(O.ATTACK,new M(O.ATTACK,14,2)),se.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,7,2)),se.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,7,2)),se.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,7,2)),se.set(O.CRITDMG,new M(O.CRITDMG,1,2)),se.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,5,2)),se.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,2,2)),se.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,2,2)),se.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,2,2)),se.set(O.HP,new M(O.HP,10,3)),se.set(O.MP,new M(O.MP,10,3)),se.set(O.MESOS,new M(O.MESOS,5,3)),se.set(O.DROP,new M(O.DROP,5,3)),se.set(O.FILLER,new M(O.FILLER,0,25)),Te.set(O.PRIMARYSTAT,new M(O.PRIMARYSTAT,17,3)),Te.set(O.SECONDARYSTAT,new M(O.SECONDARYSTAT,17,3)),Te.set(O.TERTIARYSTAT,new M(O.TERTIARYSTAT,17,3)),Te.set(O.ATTACK,new M(O.ATTACK,13,2)),Te.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,6,2)),Te.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,6,2)),Te.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,6,2)),Te.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,5,2)),Te.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,1,2)),Te.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,1,2)),Te.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,1,2)),Te.set(O.HP,new M(O.HP,7,3)),Te.set(O.MP,new M(O.MP,7,3)),Te.set(O.FILLER,new M(O.FILLER,0,25)),ae.set(O.PRIMARYSTAT,new M(O.PRIMARYSTAT,16,3)),ae.set(O.SECONDARYSTAT,new M(O.SECONDARYSTAT,16,3)),ae.set(O.TERTIARYSTAT,new M(O.TERTIARYSTAT,16,3)),ae.set(O.ATTACK,new M(O.ATTACK,12,2)),ae.set(O.PRIMARYSTATPERCENT,new M(O.PRIMARYSTATPERCENT,5,2)),ae.set(O.SECONDARYSTATPERCENT,new M(O.SECONDARYSTATPERCENT,5,2)),ae.set(O.TERTIARYSTATPERCENT,new M(O.TERTIARYSTATPERCENT,5,2)),ae.set(O.ALLSTATPERCENT,new M(O.ALLSTATPERCENT,4,2)),ae.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,1,2)),ae.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,1,2)),ae.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,1,2)),ae.set(O.HP,new M(O.HP,7,3)),ae.set(O.MP,new M(O.MP,7,3)),ae.set(O.FILLER,new M(O.FILLER,0,25));let Re=D(ee),re=D(te),le=D(ne),oe=D(ie),Ae=D(Ee),Ie=D(se),Se=D(Te),ce=D(ae);Re.set(O.NONPRIMECOOLDOWNREDUCTION,new M(O.NONPRIMECOOLDOWNREDUCTION,1,3)),Re.set(O.PRIMECOOLDOWNREDUCTION,new M(O.PRIMECOOLDOWNREDUCTION,2,2)),Re.set(O.ALLSKILLLEVELS,new M(O.ALLSKILLLEVELS,0,5)),Re.get(O.FILLER).weight=11,re.set(O.NONPRIMECOOLDOWNREDUCTION,new M(O.NONPRIMECOOLDOWNREDUCTION,1,3)),re.set(O.PRIMECOOLDOWNREDUCTION,new M(O.PRIMECOOLDOWNREDUCTION,2,2)),re.set(O.ALLSKILLLEVELS,new M(O.ALLSKILLLEVELS,0,5)),re.get(O.FILLER).weight=11,le.set(O.ALLSKILLLEVELS,new M(O.ALLSKILLLEVELS,0,6)),le.get(O.FILLER).weight=17,oe.set(O.ALLSKILLLEVELS,new M(O.ALLSKILLLEVELS,0,6)),oe.get(O.FILLER).weight=17,Ae.set(O.PRIMECOOLDOWNREDUCTION,new M(O.PRIMECOOLDOWNREDUCTION,1,3)),Ae.set(O.ALLSKILLLEVELS,new M(O.ALLSKILLLEVELS,0,1)),Ie.set(O.PRIMECOOLDOWNREDUCTION,new M(O.PRIMECOOLDOWNREDUCTION,1,3)),Ie.set(O.ALLSKILLLEVELS,new M(O.ALLSKILLLEVELS,0,1));let de=D(ee),Ne=D(te),me=D(ne),Pe=D(ie),ge=D(Ee),he=D(se),ue=D(Te),pe=D(ae);de.set(O.INVINCIBILITY,new M(O.INVINCIBILITY,0,3)),de.set(O.PERCENTINVINCIBILITY,new M(O.PERCENTINVINCIBILITY,0,3)),de.get(O.FILLER).weight=10,Ne.set(O.INVINCIBILITY,new M(O.INVINCIBILITY,0,3)),Ne.set(O.PERCENTINVINCIBILITY,new M(O.PERCENTINVINCIBILITY,0,3)),Ne.get(O.FILLER).weight=10,me.set(O.INVINCIBILITY,new M(O.INVINCIBILITY,0,4)),me.set(O.PERCENTINVINCIBILITY,new M(O.PERCENTINVINCIBILITY,0,4)),me.get(O.FILLER).weight=19,Pe.set(O.INVINCIBILITY,new M(O.INVINCIBILITY,0,4)),Pe.set(O.PERCENTINVINCIBILITY,new M(O.PERCENTINVINCIBILITY,0,4)),Pe.get(O.FILLER).weight=19;let Le=D(ee),Ce=D(te),we=D(ne),Me=D(ie),Oe=D(Ee),De=D(se),ye=D(Te),be=D(ae);Le.get(O.FILLER).weight=10,Ce.get(O.FILLER).weight=10,we.get(O.FILLER).weight=17,Me.get(O.FILLER).weight=17;let Ye=D(ee),fe=D(te),Ge=D(ne),Fe=D(ie),Be=D(Ee),ve=D(se),ke=D(Te),xe=D(ae);Ye.get(O.FILLER).weight=11,fe.get(O.FILLER).weight=11,Ge.get(O.FILLER).weight=17,Fe.get(O.FILLER).weight=17;let Ue=D(ee),We=D(te),Ke=D(ne),He=D(ie),Ve=D(Ee),Je=D(se),qe=D(Te),je=D(ae);Ue.set(O.CRITDMG,new M(O.CRITDMG,8,4)),Ue.set(O.SPEEDINFUSION,new M(O.SPEEDINFUSION,1,3)),We.set(O.CRITDMG,new M(O.CRITDMG,8,4)),We.set(O.SPEEDINFUSION,new M(O.SPEEDINFUSION,1,3)),Ke.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,1,1)),Ke.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,1,1)),Ke.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,1,1)),Ke.set(O.SHARPEYES,new M(O.SHARPEYES,1,4)),Ke.get(O.FILLER).weight=14,He.set(O.PRIMARYSTATPER10,new M(O.PRIMARYSTATPER10,1,1)),He.set(O.SECONDARYSTATPER10,new M(O.SECONDARYSTATPER10,1,1)),He.set(O.TERTIARYSTATPER10,new M(O.TERTIARYSTATPER10,1,1)),He.set(O.SHARPEYES,new M(O.SHARPEYES,1,4)),He.get(O.FILLER).weight=14,Ve.set(O.CRITDMG,new M(O.CRITDMG,3,2)),Je.set(O.CRITDMG,new M(O.CRITDMG,3,2));let ze=D(ee),Ze=D(te),_e=D(ne),Qe=D(ie),Xe=D(Ee),$e=D(se),et=D(Te),tt=D(ae);ze.delete(O.IGNOREDAMAGE),ze.set(O.MESOS,new M(O.MESOS,20,3)),ze.set(O.DROP,new M(O.DROP,20,3)),ze.get(O.FILLER).weight=14,Ze.delete(O.IGNOREDAMAGE),Ze.set(O.MESOS,new M(O.MESOS,20,3)),Ze.set(O.DROP,new M(O.DROP,20,3)),Ze.get(O.FILLER).weight=14,_e.delete(O.IGNOREDAMAGE),Qe.delete(O.IGNOREDAMAGE),Xe.delete(O.CRITDMG),Xe.get(O.FILLER).weight=28,$e.delete(O.CRITDMG),$e.get(O.FILLER).weight=28;let nt=D(ee),it=D(te),Et=D(ne),st=D(ie),Tt=D(Ee),at=D(se),Rt=D(Te),rt=D(ae);nt.delete(O.IGNOREDAMAGE),it.delete(O.IGNOREDAMAGE),Et.delete(O.IGNOREDAMAGE),st.delete(O.IGNOREDAMAGE),Tt.delete(O.CRITDMG),at.delete(O.CRITDMG);const lt={lines:O,equipType:{emblem:"emblem",weapon:"weapon",secondary:"secondary",hat:"hat",top:"top",pants:"pants",shoes:"shoes",gloves:"gloves",cape:"cape",belt:"belt",shoulder:"shoulder",badge:"badge",accessory:"accessory",heart:"heart"},cubeType:{RED:"red",BLACK:"black",GREEN:"green"},primeRates:{redCube:{firstLine:1,secondLine:.1,thirdLine:.01},blackCube:{firstLine:1,secondLine:.2,thirdLine:.05},bpotCube:{firstLine:1,secondLine:.05,thirdLine:.05}},emblem:{mpotLegTier4:y,mpotLegTier3:b,mpotUniTier4:Y,mpotUniTier3:f,bpotLegTier4:G,bpotLegTier3:F,bpotUniTier4:B,bpotUniTier3:v},weapon:{mpotLegTier4:k,mpotLegTier3:x,mpotUniTier4:U,mpotUniTier3:W,bpotLegTier4:K,bpotLegTier3:H,bpotUniTier4:V,bpotUniTier3:J},secondary:{mpotLegTier4:q,mpotLegTier3:j,mpotUniTier4:z,mpotUniTier3:Z,bpotLegTier4:_,bpotLegTier3:Q,bpotUniTier4:X,bpotUniTier3:$},hat:{mpotLegTier4:Re,mpotLegTier3:re,mpotUniTier4:le,mpotUniTier3:oe,bpotLegTier4:Ae,bpotLegTier3:Ie,bpotUniTier4:Se,bpotUniTier3:ce},top:{mpotLegTier4:de,mpotLegTier3:Ne,mpotUniTier4:me,mpotUniTier3:Pe,bpotLegTier4:ge,bpotLegTier3:he,bpotUniTier4:ue,bpotUniTier3:pe},pants:{mpotLegTier4:Le,mpotLegTier3:Ce,mpotUniTier4:we,mpotUniTier3:Me,bpotLegTier4:Oe,bpotLegTier3:De,bpotUniTier4:ye,bpotUniTier3:be},shoes:{mpotLegTier4:Ye,mpotLegTier3:fe,mpotUniTier4:Ge,mpotUniTier3:Fe,bpotLegTier4:Be,bpotLegTier3:ve,bpotUniTier4:ke,bpotUniTier3:xe},gloves:{mpotLegTier4:Ue,mpotLegTier3:We,mpotUniTier4:Ke,mpotUniTier3:He,bpotLegTier4:Ve,bpotLegTier3:Je,bpotUniTier4:qe,bpotUniTier3:je},armor:{mpotLegTier4:ee,mpotLegTier3:te,mpotUniTier4:ne,mpotUniTier3:ie,bpotLegTier4:Ee,bpotLegTier3:se,bpotUniTier4:Te,bpotUniTier3:ae},accessory:{mpotLegTier4:ze,mpotLegTier3:Ze,mpotUniTier4:_e,mpotUniTier3:Qe,bpotLegTier4:Xe,bpotLegTier3:$e,bpotUniTier4:et,bpotUniTier3:tt},heart:{mpotLegTier4:nt,mpotLegTier3:it,mpotUniTier4:Et,mpotUniTier3:st,bpotLegTier4:Tt,bpotLegTier3:at,bpotUniTier4:Rt,bpotUniTier3:rt}};class ot{constructor(){this.probability=1,this.attackPercent=0,this.bossDamage=0,this.ignoreDefense=0,this.critDmg=0,this.cooldownReduction=0,this.damage=0,this.critRate=0,this.attackPer10=0,this.attack=0,this.allStat=0,this.primaryStatPercent=0,this.secondaryStatPercent=0,this.tertiaryStatPercent=0,this.primaryStat=0,this.secondaryStat=0,this.tertiaryStat=0,this.primaryStatPer10=0,this.secondaryStatPer10=0,this.tertiaryStatPer10=0,this.sharpEyes=!1,this.speedInfusion=!1,this.hp=0,this.mp=0,this.mesos=0,this.drop=0}cube(e,t,n){e.line==lt.lines.PRIMEBOSSDAMAGE||e.line==lt.lines.HALFPRIMEBOSSDAMAGE||e.line==lt.lines.NONPRIMEBOSSDAMAGE?(this.bossDamage+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.PRIMEIGNOREDEFENSE||e.line==lt.lines.NONPRIMEIGNOREDEFENSE?(this.ignoreDefense+=e.value*(100-this.ignoreDefense)/100,this.probability*=n*e.weight/t):e.line==lt.lines.PRIMECOOLDOWNREDUCTION||e.line==lt.lines.NONPRIMECOOLDOWNREDUCTION?(this.cooldownReduction+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.ATTACKPERCENT?(this.attackPercent+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.CRITDMG?(this.critDmg+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.DAMAGE?(this.damage+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.CRITRATE?(this.critRate+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.ATTACKPER10?(this.attackPer10+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.ATTACK?(this.attack+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.ALLSTATPERCENT?(this.allStat+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.PRIMARYSTATPERCENT?(this.primaryStatPercent+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.SECONDARYSTATPERCENT?(this.secondaryStatPercent+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.TERTIARYSTATPERCENT?(this.tertiaryStatPercent+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.PRIMARYSTAT?(this.primaryStat+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.SECONDARYSTAT?(this.secondaryStat+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.TERTIARYSTAT?(this.tertiaryStat+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.PRIMARYSTATPER10?(this.primaryStatPer10+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.SECONDARYSTATPER10?(this.secondaryStatPer10+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.TERTIARYSTATPER10?(this.tertiaryStatPer10+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.SHARPEYES?(this.sharpEyes=!0,this.probability*=n*e.weight/t):e.line==lt.lines.SPEEDINFUSION?(this.speedInfusion=!0,this.probability*=n*e.weight/t):e.line==lt.lines.HP?(this.hp+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.MP?(this.mp+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.MESOS?(this.mesos+=e.value,this.probability*=n*e.weight/t):e.line==lt.lines.DROP?(this.drop+=e.value,this.probability*=n*e.weight/t):this.probability*=n*e.weight/t}}function At(e){return"checkbox"===document.getElementById(e).type?!(!localStorage.getItem(e)||'""'===localStorage.getItem(e))&&(document.getElementById(e).checked=JSON.parse(localStorage.getItem(e)),JSON.parse(localStorage.getItem(e))):"number"===document.getElementById(e).type?localStorage.getItem(e)&&'""'!==localStorage.getItem(e)?(document.getElementById(e).value=JSON.parse(localStorage.getItem(e)),JSON.parse(localStorage.getItem(e))):0:"select-one"===document.getElementById(e).type?localStorage.getItem(e)&&'""'!==localStorage.getItem(e)?(document.getElementById(e).value=JSON.parse(localStorage.getItem(e)),JSON.parse(localStorage.getItem(e))):"weapon":void 0}let It=At("isBpot");document.getElementById("isBpot").addEventListener("click",(function(){It=document.getElementById("isBpot").checked,localStorage.setItem("isBpot",JSON.stringify(It))}));let St=At("isTier4");document.getElementById("isTier4").addEventListener("click",(function(){St=document.getElementById("isTier4").checked,localStorage.setItem("isTier4",JSON.stringify(St))}));let ct=At("characterLevel");document.getElementById("characterLevel").addEventListener("input",(function(){ct=Number(document.getElementById("characterLevel").value),localStorage.setItem("characterLevel",JSON.stringify(ct))}));let dt=At("cubeThreshold");document.getElementById("cubeThreshold").addEventListener("input",(function(){dt=Number(document.getElementById("cubeThreshold").value),localStorage.setItem("cubeThreshold",JSON.stringify(dt))}));let Nt=At("bossRatio");document.getElementById("bossRatio").addEventListener("input",(function(){Nt=Number(document.getElementById("bossRatio").value),console.log(typeof Nt),localStorage.setItem("bossRatio",JSON.stringify(Nt))}));let mt=At("iedRatio");document.getElementById("iedRatio").addEventListener("input",(function(){mt=Number(document.getElementById("iedRatio").value),localStorage.setItem("iedRatio",JSON.stringify(mt))}));let Pt=At("percentStatRatio");document.getElementById("percentStatRatio").addEventListener("input",(function(){Pt=Number(document.getElementById("percentStatRatio").value),localStorage.setItem("percentStatRatio",JSON.stringify(Pt))}));let gt=At("critRateRatio");document.getElementById("critRateRatio").addEventListener("input",(function(){gt=Number(document.getElementById("critRateRatio").value),localStorage.setItem("critRateRatio",JSON.stringify(gt))}));let ht=At("attRatio");document.getElementById("attRatio").addEventListener("input",(function(){ht=Number(document.getElementById("attRatio").value),localStorage.setItem("attRatio",JSON.stringify(ht))}));let ut=At("secondaryRatio");document.getElementById("secondaryRatio").addEventListener("input",(function(){ut=Number(document.getElementById("secondaryRatio").value),localStorage.setItem("secondaryRatio",JSON.stringify(ut))}));let pt=At("tertiaryRatio");document.getElementById("tertiaryRatio").addEventListener("input",(function(){pt=Number(document.getElementById("tertiaryRatio").value),localStorage.setItem("tertiaryRatio",JSON.stringify(pt))}));let Lt=At("statRatio");document.getElementById("statRatio").addEventListener("input",(function(){Lt=Number(document.getElementById("statRatio").value),localStorage.setItem("statRatio",JSON.stringify(Lt))}));let Ct=At("critDmgRatio");document.getElementById("critDmgRatio").addEventListener("input",(function(){Ct=Number(document.getElementById("critDmgRatio").value),localStorage.setItem("critDmgRatio",JSON.stringify(Ct))}));let wt=At("speedInfusionRatio");document.getElementById("speedInfusionRatio").addEventListener("input",(function(){wt=Number(document.getElementById("speedInfusionRatio").value),localStorage.setItem("speedInfusionRatio",JSON.stringify(wt))}));let Mt=At("sharpEyesRatio");document.getElementById("sharpEyesRatio").addEventListener("input",(function(){Mt=Number(document.getElementById("sharpEyesRatio").value),localStorage.setItem("sharpEyesRatio",JSON.stringify(Mt))}));let Ot=At("cooldownRatio");document.getElementById("cooldownRatio").addEventListener("input",(function(){Ot=Number(document.getElementById("cooldownRatio").value),localStorage.setItem("cooldownRatio",JSON.stringify(Ot))}));let Dt=At("percentSecondaryRatio");document.getElementById("percentSecondaryRatio").addEventListener("input",(function(){Dt=Number(document.getElementById("percentSecondaryRatio").value),localStorage.setItem("percentSecondaryRatio",JSON.stringify(Dt))}));let yt=At("percentTertiaryRatio");document.getElementById("percentTertiaryRatio").addEventListener("input",(function(){yt=Number(document.getElementById("percentTertiaryRatio").value),localStorage.setItem("percentTertiaryRatio",JSON.stringify(yt))}));let bt=At("hpRatio");document.getElementById("hpRatio").addEventListener("input",(function(){bt=Number(document.getElementById("hpRatio").value),localStorage.setItem("hpRatio",JSON.stringify(bt))}));let Yt=At("mpRatio");document.getElementById("mpRatio").addEventListener("input",(function(){Yt=Number(document.getElementById("mpRatio").value),localStorage.setItem("mpRatio",JSON.stringify(Yt))}));let ft,Gt=At("equipType");function Ft(e){let t=0,n=0,i=0;for(let E of[!0,!1])for(let s of[!0,!1]){let T,a,R,r,l,o=1;It&&St?(T=ft.bpotLegTier4,a=E?ft.bpotLegTier4:ft.bpotUniTier4,r=s?ft.bpotLegTier4:ft.bpotUniTier4):It&&!St?(T=ft.bpotLegTier3,a=E?ft.bpotLegTier3:ft.bpotUniTier3,r=s?ft.bpotLegTier3:ft.bpotUniTier3):!It&&St?(T=ft.mpotLegTier4,a=E?ft.mpotLegTier4:ft.mpotUniTier4,r=s?ft.mpotLegTier4:ft.mpotUniTier4):(T=ft.mpotLegTier3,a=E?ft.mpotLegTier3:ft.mpotUniTier3,r=s?ft.mpotLegTier3:ft.mpotUniTier3),e===lt.cubeType.RED?(R=lt.primeRates.redCube.secondLine,l=lt.primeRates.redCube.thirdLine,E||(R=1-lt.primeRates.redCube.secondLine),s||(l=1-lt.primeRates.redCube.thirdLine)):e===lt.cubeType.BLACK?(R=lt.primeRates.blackCube.secondLine,l=lt.primeRates.blackCube.thirdLine,E||(R=1-lt.primeRates.blackCube.secondLine),s||(l=1-lt.primeRates.blackCube.thirdLine)):e===lt.cubeType.GREEN&&(R=lt.primeRates.bpotCube.secondLine,l=lt.primeRates.bpotCube.thirdLine,E||(R=1-lt.primeRates.bpotCube.secondLine),s||(l=1-lt.primeRates.bpotCube.thirdLine));let A=0;T.forEach((e=>{A+=e.weight})),T.forEach((e=>{let E=vt(e,a),s=vt(e,r),T=0;E.forEach((e=>{T+=e.weight})),E.forEach((E=>{let a=kt(e,E,s),r=0;a.forEach((e=>{r+=e.weight})),a.forEach((s=>{let a=new ot;a.cube(e,A,o),a.cube(E,T,R),a.cube(s,r,l);let I=Bt(a);I>=dt&&(t+=a.probability,I>dt&&(n+=a.probability,i+=a.probability*(I-dt)))}))}))}))}return[t,n,i]}function Bt(e){let t=0;return Gt===lt.equipType.weapon||Gt===lt.equipType.secondary||Gt===lt.equipType.emblem?(t+=e.attackPercent,t+=0===Nt?0:(e.bossDamage+e.damage)/Nt,t+=0===mt?0:e.ignoreDefense/mt,t+=0===Pt?0:e.critRate*gt/Pt,t+=Lt*Pt==0?0:e.attackPer10*Math.floor(ct/10)*ht/(Lt*Pt),t+=0===Pt?0:e.allStat*(1+Dt+yt)/Pt,t+=0===Pt?0:e.primaryStatPercent/Pt,t+=0===Pt?0:e.secondaryStatPercent*Dt/Pt,t+=0===Pt?0:e.tertiaryStatPercent*yt/Pt):(t+=e.critDmg*Ct,t+=e.cooldownReduction*Ot,t+=0===Lt?0:e.attack*ht/Lt,t+=e.allStat*(1+Dt+yt),t+=e.primaryStatPercent,t+=e.secondaryStatPercent*Dt,t+=e.tertiaryStatPercent*yt,t+=0===Lt?0:e.primaryStat/Lt,t+=0===Lt?0:e.secondaryStat*ut/Lt,t+=0===Lt?0:e.tertiaryStat*pt/Lt,t+=0===Lt?0:e.primaryStatPer10*Math.floor(ct/10)/Lt,t+=0===Lt?0:e.secondaryStatPer10*Math.floor(ct/10)*ut/Lt,t+=0===Lt?0:e.tertiaryStatPer10*Math.floor(ct/10)*pt/Lt,t+=e.sharpEyes?Mt:0,t+=e.speedInfusion?wt:0,t+=0===bt?0:e.hp*bt,t+=0===Yt?0:e.mp*Yt),t}function vt(e,t){let n=D(t);return e.line===lt.lines.ALLSKILLLEVELS&&n.has(lt.lines.ALLSKILLLEVELS)?n.delete(lt.lines.ALLSKILLLEVELS):e.line===lt.lines.INVINCIBILITY&&n.has(lt.lines.INVINCIBILITY)&&n.delete(lt.lines.INVINCIBILITY),n}function kt(e,t,n){let i=D(n);return e.line!==lt.lines.PRIMEBOSSDAMAGE&&e.line!==lt.lines.HALFPRIMEBOSSDAMAGE&&e.line!==lt.lines.NONPRIMEBOSSDAMAGE||t.line!==lt.lines.PRIMEBOSSDAMAGE&&t.line!==lt.lines.HALFPRIMEBOSSDAMAGE&&t.line!==lt.lines.NONPRIMEBOSSDAMAGE||(i.has(lt.lines.PRIMEBOSSDAMAGE)&&i.delete(lt.lines.PRIMEBOSSDAMAGE),i.has(lt.lines.HALFPRIMEBOSSDAMAGE)&&i.delete(lt.lines.HALFPRIMEBOSSDAMAGE),i.has(lt.lines.NONPRIMEBOSSDAMAGE)&&i.delete(lt.lines.NONPRIMEBOSSDAMAGE)),e.line!==lt.lines.PRIMEIGNOREDEFENSE&&e.line!==lt.lines.NONPRIMEIGNOREDEFENSE||t.line!==lt.lines.PRIMEIGNOREDEFENSE&&t.line!==lt.lines.NONPRIMEIGNOREDEFENSE||(i.has(lt.lines.PRIMEIGNOREDEFENSE)&&i.delete(lt.lines.PRIMEIGNOREDEFENSE),i.has(lt.lines.NONPRIMEIGNOREDEFENSE)&&i.delete(lt.lines.NONPRIMEIGNOREDEFENSE)),e.line===lt.lines.PERCENTINVINCIBILITY&&t.line===lt.lines.PERCENTINVINCIBILITY&&i.has(lt.lines.PERCENTINVINCIBILITY)&&i.delete(lt.lines.PERCENTINVINCIBILITY),e.line===lt.lines.IGNOREDAMAGE&&t.line===lt.lines.IGNOREDAMAGE&&i.has(lt.lines.IGNOREDAMAGE)&&i.delete(lt.lines.IGNOREDAMAGE),e.line===lt.lines.DROP&&t.line===lt.lines.DROP&&i.has(lt.lines.DROP)&&i.delete(lt.lines.DROP),t.line===lt.lines.ALLSKILLLEVELS&&i.has(lt.lines.ALLSKILLLEVELS)&&i.delete(lt.lines.ALLSKILLLEVELS),t.line===lt.lines.INVINCIBILITY&&i.has(lt.lines.INVINCIBILITY)&&i.delete(lt.lines.INVINCIBILITY),i}document.getElementById("equipType").addEventListener("change",(function(){Gt=document.getElementById("equipType").value,localStorage.setItem("equipType",JSON.stringify(Gt))})),document.getElementById("calculateCubes").addEventListener("click",(function(){Gt===lt.equipType.weapon?ft=lt.weapon:Gt===lt.equipType.secondary?ft=lt.secondary:Gt===lt.equipType.emblem?ft=lt.emblem:Gt===lt.equipType.accessory?ft=lt.accessory:Gt===lt.equipType.hat?ft=lt.hat:Gt===lt.equipType.top?ft=lt.top:Gt===lt.equipType.pants?ft=lt.pants:Gt===lt.equipType.shoes?ft=lt.shoes:Gt===lt.equipType.gloves?ft=lt.gloves:Gt===lt.equipType.shoulder||Gt===lt.equipType.cape||Gt===lt.equipType.belt?ft=lt.armor:(Gt===lt.equipType.heart||Gt===lt.equipType.badge)&&(ft=lt.heart);let e,t,n=[],i=[];It?(n=Ft(lt.cubeType.GREEN),e=lt.cubeType.GREEN):(n=Ft(lt.cubeType.RED),i=Ft(lt.cubeType.BLACK),e=lt.cubeType.RED),t=Gt===lt.equipType.weapon||Gt===lt.equipType.secondary||Gt===lt.equipType.emblem?"%Att":"%Stat";let E=(1/n[0]).toFixed(2)+" "+e+" cubes to equal or beat current",s=(1/n[1]).toFixed(2)+" "+e+" cubes to beat current",T=(n[2]/n[1]).toFixed(2)+" expected "+t+" increase after beating current";document.getElementById("expectedFirstCubesToEqual").innerText=E,document.getElementById("expectedFirstCubesToBeat").innerText=s,document.getElementById("expectedFirstCubeGain").innerText=T,document.getElementById("expectedSecondCubesToEqual").innerText="",document.getElementById("expectedSecondCubesToBeat").innerText="",document.getElementById("expectedSecondCubeGain").innerText="",It||(E=(1/i[0]).toFixed(2)+" "+lt.cubeType.BLACK+" cubes to equal or beat current",s=(1/i[1]).toFixed(2)+" "+lt.cubeType.BLACK+" cubes to beat current",T=(i[2]/i[1]).toFixed(2)+" expected "+t+" increase after beating current",document.getElementById("expectedSecondCubesToEqual").innerText=E,document.getElementById("expectedSecondCubesToBeat").innerText=s,document.getElementById("expectedSecondCubeGain").innerText=T)}))},918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(645),E=n.n(i)()((function(e){return e[1]}));E.push([e.id,"html {\n    font-size: calc(0.55em + 1vmin);\n}\n\nbody {\n    font-size: 1em;\n    display: flex;\n}\n\n#flames {\n    margin-right: 50px;\n}\n\n#expectedEternalFlameGain {\n    margin-bottom: 5px;\n}\n\n#expectedFirstCubeGain {\n    margin-bottom: 5px;\n}\n\nh1 {\n    font-size: 2em;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n\nh3 {\n    font-size: 1.5em;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n\ninput {\n    margin-bottom: 5px;\n}\n\nselect {\n    margin-bottom: 5px;\n}\n\ninput[type=number] {\n    width: 70px;\n}\n\nlabel {\n    margin-left: 5px;\n}",""]);const s=E},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var E={};if(i)for(var s=0;s<this.length;s++){var T=this[s][0];null!=T&&(E[T]=!0)}for(var a=0;a<e.length;a++){var R=[].concat(e[a]);i&&E[R[0]]||(n&&(R[2]?R[2]="".concat(n," and ").concat(R[2]):R[2]=n),t.push(R))}},t}},379:(e,t,n)=>{"use strict";var i,E=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function T(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},i=[],E=0;E<e.length;E++){var a=e[E],R=t.base?a[0]+t.base:a[0],r=n[R]||0,l="".concat(R," ").concat(r);n[R]=r+1;var o=T(l),A={css:a[1],media:a[2],sourceMap:a[3]};-1!==o?(s[o].references++,s[o].updater(A)):s.push({identifier:l,updater:c(A,t),references:1}),i.push(l)}return i}function R(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var T=E(e.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(t)}return t}var r,l=(r=[],function(e,t){return r[e]=t,r.filter(Boolean).join("\n")});function o(e,t,n,i){var E=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(t,E);else{var s=document.createTextNode(E),T=e.childNodes;T[t]&&e.removeChild(T[t]),T.length?e.insertBefore(s,T[t]):e.appendChild(s)}}function A(e,t,n){var i=n.css,E=n.media,s=n.sourceMap;if(E?e.setAttribute("media",E):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var I=null,S=0;function c(e,t){var n,i,E;if(t.singleton){var s=S++;n=I||(I=R(t)),i=o.bind(null,n,s,!1),E=o.bind(null,n,s,!0)}else n=R(t),i=A.bind(null,n,t),E=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else E()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var E=T(n[i]);s[E].references--}for(var R=a(e,t),r=0;r<n.length;r++){var l=T(n[r]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=R}}}}},0,[[778,666]]]);